/*
Animations
==========

This is kind of a placeholder file until we transfer over to Compass, which
provides a more complete and flexible system of mixins for animations.

Once Compass is in place, we should be able to remove or replace the following
functions with Compass equivalents, although we should try to maintain the
@extend-based setup as much as possible
*/

$ani-duration: 300ms;  // this could be moved to _variables, but should really only be used here


/*
transition-all
--------------

many of our transitions use a blunt "transition: all" target.

@mixin create-transition-all() is just a helper for creating a bunch of placeholder
selectors for the various timing functions we might want to use. Because
it's based on placeholders, any timing functions that are not used will
not

*/
@mixin create-transition-all() {
	$timing-functions: ease-in ease-out ease-in-out;

	@each $timing-function in $timing-functions {
		%transition-all-#{$timing-function} {
			-webkit-transition: all $ani-duration $timing-function;
			-moz-transition: all $ani-duration $timing-function;
			transition: all $ani-duration $timing-function;
		}
	}
}
@include create-transition-all();

@mixin transition-all($timing-function: ease-in-out) {
	@extend %transition-all-#{$timing-function};
}


/*
perspective
-----------

When divs flip, they'll be isometric unless you give the wrapping container
a perspective value
*/
.has-perspective {
	-webkit-perspective: 800px;
	perspective: 800px;
}

/*
flips

*/

%flipped {
	@include transition-all(ease-out);
	-webkit-transform-origin: 0 0 0;
	-moz-transform-origin: 0 0 0;
	-webkit-transform-style: preserve-3d;
	-moz-transform-style: preserve-3d;
}
%flipped-back {
	@extend %flipped;
	-webkit-transform: rotateX(-75deg);
	-moz-transform: rotateX(-75deg);
	transform: rotateX(-75deg);
}
%flipped-forward {
	@extend %flipped;
	-webkit-transform: rotateX(75deg);
	-moz-transform: rotateX(75deg);
	transform: rotateX(75deg);
}
